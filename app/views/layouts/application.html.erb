<!DOCTYPE html>
<html>
  <head>
    <title>BookStore</title>
    <%= csrf_meta_tags %>
    <%= csp_meta_tag %>
  <%= javascript_importmap_tags %>
  <script src="https://cdn.jsdelivr.net/npm/@rails/ujs@7.0.0/lib/assets/compiled/rails-ujs.js"></script>
  <script>Rails.start();</script>
    <%= stylesheet_link_tag "application", "data-turbo-track": "reload" %>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <%= stylesheet_link_tag "custom", media: "all" %>
  <%= favicon_link_tag 'favicon.ico' %>
  <link rel="icon" type="image/x-icon" href="/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="48x48" href="/favicon-big.png">
  <link rel="icon" type="image/png" sizes="192x192" href="/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="/android-chrome-512x512.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  </head>

  <body class="bg-light">
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark mb-4">
      <div class="container">
        <a class="navbar-brand d-flex align-items-center" href="<%= root_path %>">
          <%= image_tag 'favicon.png', alt: 'BookStore', style: 'height:48px;width:48px;object-fit:contain;', class: 'me-2' %>
          BookStore
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ms-auto">
            <li class="nav-item"><%= link_to "Каталог", books_path, class: "nav-link" %></li>
            <li class="nav-item"><%= link_to "Про нас", about_path, class: "nav-link" %></li>
            <% if user_signed_in? %>
              <li class="nav-item"><%= link_to "Кошик", cart_items_path, class: "nav-link" %></li>
              <li class="nav-item"><%= link_to "Мої замовлення", orders_path, class: "nav-link" %></li>
              <% if current_user.admin? %>
                <li class="nav-item"><%= link_to "Адмінка", admin_root_path, class: "nav-link" %></li>
              <% end %>
              <li class="nav-item"><%= link_to "Вийти", destroy_user_session_path, method: :delete, class: "nav-link" %></li>
            <% else %>
              <li class="nav-item"><%= link_to "Увійти", new_user_session_path, class: "nav-link" %></li>
              <li class="nav-item"><%= link_to "Реєстрація", new_user_registration_path, class: "nav-link" %></li>
            <% end %>
          </ul>
        </div>
      </div>
    </nav>

    <div class="container">
      <% if notice %>
        <div class="alert alert-success"><%= notice %></div>
      <% end %>
      <% if alert %>
        <div class="alert alert-danger"><%= alert %></div>
      <% end %>

      <%= yield %>
    </div>
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
  </body>
</html>